<!DOCTYPE html>
<!--	File:	ajax-content.htm
	Author: Eric Kellner 
	E-mail: kaster@yahoo.com -->
<html>
<head>
	<script type="text/javascript">
	/*	The user should not be accessing this page directly.
		The purpose of this page is to serve as ajax content 
		for the main file (index.htm). The javascript script below
		will redirect the user to the main file, should it be accessed
		directly.	*/
		window.location.replace('index.htm'); // http redirect
	</script>
</head>
<body>
	<div id="skills-1">
		<ul class="list-group">
			<li class="list-group-item">Application Design in VB.NET(Visual Studio), VBA, VBE, VSTO (Visual Studio Tools for Office(MS Office Addins))</li>
			<li class="list-group-item">Web Design in HTML, PHP, JavaScript, CSS, XML, ASP, ASPX.</li>
			<li class="list-group-item">Graphics Design in Cinema 4D, Maya, Photoshop.</li>
			<li class="list-group-item">Database design in SQL, MySQL, MS Access.</li>
			<li class="list-group-item">MS Office Applications, MS Excel, MS Access, MS Word, MS PowerPoint.</li>
			<li class="list-group-item">Computer assembly</li>
			<li class="list-group-item">Computer languages are known by code, rather than code editor/generation.</li>
		</ul>
	</div>
	
	<div id="skills-2">
		<ul class="list-group">
			<li class="list-group-item">Mechanical (Vehicle wise, most things except electrical.)</li>
		</ul>	
	</div>

	<div id="category-3">
		<p>Ajax content loaded. This content was loaded from ajax-content.htm</p>
	</div>
	
		<div class="form-style" id="contact_form">
		<form class="form-inline" role="form">
			<h3 class="form-style-heading">Please contact me</h3>
			<div id="contact_results"></div>
			<div id="contact_body">
			<ul class="list-group">
				<li class="list-group-item">
					<div class="form-group">
						<div class="input-group">
							<div class="input-group-addon">Name</div>					
								<input type="text" name="name" id="name" required="true" class="input-field form-control"/>
						</div>
					</div>	
				</li>
				<li class="list-group-item">
					<div class="form-group">
						<div class="input-group">
							<div class="input-group-addon">Email</div>
							<input type="email" name="email" required="true" class="input-field form-control"/>
						</div>
					</div>
				</li>
				<li class="list-group-item">
					<div class="form-group">
						<div class="input-group">
							<div class="input-group-addon">Phone</div>
							<input type="text" name="phone1" maxlength="4" placeholder="+1"  required="true" class="tel-number-field form-control"/></div>&nbsp;&mdash;
							<input type="text" name="phone2" maxlength="15"  required="true" class="tel-number-field long form-control" />
						
					</div>
				</li>
				<li class="list-group-item">
					<div class="form-group">
						<div class="input-group">
							<div class="input-group-addon">Regarding</div>
								<select name="subject" class="select-field form-control">
									<option value="General Question">General Question</option>
									<option value="Advertise">Advertisement</option>
									<option value="Partnership">Partnership Oppertunity</option>
								</select>
						</div>
					</div>
				</li>
				<li class="list-group-item">
					<div class="form-group">
						<div class="input-group">
							<div class="input-group-addon">Message</div>
								<textarea name="message" id="message" class="textarea-field form-control" rows="3" required="true"></textarea>
						</div>
					</div>
				</li>
				<li class="list-group-item">
					<label>
						<span>&nbsp;</span><input type="submit" class="btn btn-default" id="submit_btn" value="Submit" style="float:right" />
					</label>
				</li>
			</ul>
			</div></form>
			
<!-- include Google hosted jQuery Library -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!-- Start jQuery code -->
<script type="text/javascript">
$(document).ready(function() {
    $("#submit_btn").click(function() { 
       
        var proceed = true;
        //simple validation at client's end
        //loop through each field and we simply change border color to red for invalid fields       
        $("#contact_form input[required=true], #contact_form textarea[required=true]").each(function(){
            $(this).css('border-color',''); 
            if(!$.trim($(this).val())){ //if this field is empty 
                $(this).css('border-color','red'); //change border color to red   
                proceed = false; //set do not proceed flag
            }
            //check invalid email
            var email_reg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/; 
            if($(this).attr("type")=="email" && !email_reg.test($.trim($(this).val()))){
                $(this).css('border-color','red'); //change border color to red   
                proceed = false; //set do not proceed flag              
            }   
        });
       
        if(proceed) //everything looks good! proceed...
        {
            //get input field values data to be sent to server
            post_data = {
                'user_name'     : $('input[name=name]').val(), 
                'user_email'    : $('input[name=email]').val(), 
                'country_code'  : $('input[name=phone1]').val(), 
                'phone_number'  : $('input[name=phone2]').val(), 
                'subject'       : $('select[name=subject]').val(), 
                'msg'           : $('textarea[name=message]').val()
            };
            
            //Ajax post data to server
            $.post('contact_me.php', post_data, function(response){  
                if(response.type == 'error'){ //load json data from server and output message     
                    output = '<div class="error">'+response.text+'</div>';
                }else{
                    output = '<div class="success">'+response.text+'</div>';
                    //reset values in all input fields
                    $("#contact_form  input[required=true], #contact_form textarea[required=true]").val(''); 
                    $("#contact_form #contact_body").slideUp(); //hide form after success
                }
                $("#contact_form #contact_results").hide().html(output).slideDown();
            }, 'json');
        }
    });
    
    //reset previously set border colors and hide all message on .keyup()
    $("#contact_form  input[required=true], #contact_form textarea[required=true]").keyup(function() { 
        $(this).css('border-color',''); 
        $("#result").slideUp();
    });
});
</script>			
			
			
		</div>
</body>
</html>
